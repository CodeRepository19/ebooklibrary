@model EbookApplication.ViewModels.BookViewModel

@{
    ViewData["Title"] = "Edit Book Details";
    var photoPath = "/uploadImages/" + (Model.ExistingImageUrl ?? "noimage.jpg");
}

<style>
    .col-form-label {
        margin-right: -10%;
    }
</style>

<div class="container-fluid">

    <div class="row mt-3">

        <div class="col-md-8" style="border-right:1px solid rgba(0, 0, 0, 0.1);">
            <h3 class="text-center m-4 text-muted">Edit E-Book</h3>
            <form enctype="multipart/form-data" id="EditBooks" asp-controller="Books" asp-action="Edit" method="post" class="m-3">

                <input hidden asp-for="book.BookId" />
                <input hidden asp-for="book.CreatedBy" />
                <input hidden asp-for="book.CreatedDate" />
                <input hidden asp-for="ExistingImageUrl" />
                <input hidden asp-for="book.StatusId" />

                @*<div asp-validation-summary="All" class="text-danger"></div>*@
                @Html.ValidationSummary(false, "", new { @class = "text-danger" })

                <div class="form-group row">
                    <label asp-for="book.BookName" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9">
                        <input asp-for="book.BookName" class="form-control" placeholder="Book Name" />
                        <span asp-validation-for="book.BookName" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group row">
                    <label asp-for="book.Author" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9">
                        <input asp-for="book.Author" class="form-control" placeholder="Author Name" />
                        <span asp-validation-for="book.Author" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group row">
                    <label asp-for="book.PublishedDate" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9">
                        <input asp-for="book.PublishedDate" class="form-control" placeholder="Published Date" />
                        <span asp-validation-for="book.PublishedDate" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group row">
                    <label asp-for="book.TechnologyId" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9">
                        <select asp-for="book.TechnologyId" class="form-control" asp-items="@(new SelectList(@ViewBag.technologyList, "TechnologyId","TechnologyName"))"></select>
                        <span asp-validation-for="book.TechnologyId" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group row">
                    <label asp-for="book.Description" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9">
                        <textarea asp-for="book.Description" class="form-control" cols="40" rows="2" placeholder="Description"></textarea>
                        <span asp-validation-for="book.Description" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group row">
                    <label asp-for="Image" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9">
                        <div class="custom-file">
                            <input asp-for="Image" id="upload-dialog" class="form-control custom-file-input" />
                            <label class="custom-file-label">Choose File..</label>
                        </div>
                        <p><small><strong>Note:</strong> Please upload appropriate PDF file</small></p>
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9" style="display:flex;">
                        <label class="col-sm-5 col-form-label">E-Book</label>
                        <label id="changeBookLbl" class="col-sm-5 col-form-label">New E-Book</label>
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-9" style="display:flex;">
                        <div class="col-sm-5">
                            <img class="imageThumbnail" width="150" src="@photoPath" asp-append-version="true" />
                        </div>
                        <div id="changePDFLoader" class="col-sm-5">
                            <div id="pdf-loader">Loading Preview ..</div>
                            <canvas id="pdf-preview" width="150"></canvas>
                            <input asp-for="book.ImageUrl" id="txtImgUrl" type="hidden" class="form-control" />
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-2"></div>
                    <div class="col-sm-10">
                        <button type="submit" class="btn btn-primary btn-sm" id="updbtn" title="Update the Existing book">Update</button>
                        <a asp-controller="Books" asp-action="Books" class="btn btn-primary m-1 btn-sm" title="Go To Index Page">Cancel</a>
                    </div>
                </div>

            </form>
        </div>

        <div class="col-md-4">
            <h6 class="text-muted" style="font-weight:bold;padding:6px;"><i class="fa fa-newspaper-o" aria-hidden="true"></i> SpSoft Events</h6><hr />
            <div class="border scroll-text" id="demo2" style="width:100%;height:570px;overflow-y:scroll;">
                <ul class="fa-ul">
                    <li><i class="fa-li fa fa-bell"></i>Lorem Ipsum is simply dummy text of the printing and typesetting industry. </li>
                    <li><i class="fa-li fa fa-check-square"></i>Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.</li>
                    <li><i class="fa-li fa fa-spinner fa-spin"></i>It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</li>
                    <li><i class="fa-li fa fa-square"></i>It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. </li>
                    <li><i class="fa-li fa fa-list-alt"></i>The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English.</li>
                    <li><i class="fa-li fa fa-bar-chart"></i>Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script src="~/js/site.js"></script>
